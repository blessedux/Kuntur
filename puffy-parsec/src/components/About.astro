---
import { Image } from 'astro:assets'
// Import Swiper components
import { Swiper, SwiperSlide } from 'swiper/react'
import { Navigation, Autoplay } from 'swiper/modules'

// Create array of image paths
const galleryImages = Array.from(
  { length: 10 },
  (_, i) => `/img/galeria${i + 1}.webp`
)
---

<section class="py-12 px-6 text-gray-800 bg-white">
  <!-- Title -->
  <div class="text-center mb-6">
    <h2 class="text-4xl text-left text-black">
      <span class="font-serif italic">Somos</span> Kuntur
    </h2>
  </div>

  <!-- Mission Statement -->
  <p class="text-lg text-gray-700 text-left leading-relaxed">
    Somos una empresa local, nacida y creada en la región de Magallanes. Desde
    nuestros inicios, nuestra misión ha sido clara:
  </p>

  <div class="mt-4 px-4">
    <ul class="text-gray-700 text-left text-lg list-disc">
      <li>
        Ofrecer a turistas, viajeros y trabajadores un servicio de transporte
        confiable que refleje la esencia y el valor de nuestra tierra.
      </li>
    </ul>
  </div>

  <!-- Image Slider Section -->
  <div class="mt-8 relative">
    <div class="swiper-container">
      <div class="swiper">
        <div class="swiper-wrapper">
          {
            galleryImages.map(imagePath => (
              <div class="swiper-slide">
                <div class="aspect-[16/10] overflow-hidden rounded-2xl">
                  <img
                    src={imagePath}
                    alt="Kuntur Transporte Gallery"
                    class="w-full h-full object-cover"
                  />
                </div>
              </div>
            ))
          }
        </div>
        <!-- Navigation Arrows -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
  </div>
</section>

<style>
  @import 'swiper/css';
  @import 'swiper/css/navigation';

  .swiper-container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
  }

  .swiper-button-next,
  .swiper-button-prev {
    color: #000;
    background-color: rgba(255, 255, 255, 0.8);
    padding: 24px;
    border-radius: 50%;
    transform: translateY(-50%);
  }

  .swiper-button-next:after,
  .swiper-button-prev:after {
    font-size: 20px;
  }

  .swiper {
    width: 100%;
    height: 100%;
  }
</style>

<script>
  import Swiper from 'swiper'
  import { Navigation, Autoplay } from 'swiper/modules'

  // Initialize Swiper
  const swiper = new Swiper('.swiper', {
    modules: [Navigation, Autoplay],
    slidesPerView: 1,
    spaceBetween: 30,
    loop: true,
    autoplay: {
      delay: 3000,
      disableOnInteraction: false
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev'
    },
    breakpoints: {
      640: {
        slidesPerView: 1
      },
      768: {
        slidesPerView: 2
      },
      1024: {
        slidesPerView: 2
      }
    }
  })
</script>
